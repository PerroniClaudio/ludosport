import{C as n}from"./auto-Bx38Jeax.js";const d=(o,a)=>({academyId:o,schoolData:[],yearData:[],colors:["rgb(237,116,0)","rgb(212, 145, 255)","rgb(179,4,16)","rgb(0,94,152)","rgb(0,129,57)"],async getSchoolData(){return await(await fetch(`${a=="admin"?"":"/"+a}/academies/${this.academyId}/athletes-school-data`)).json()},async getYearData(){return await(await fetch(`${a=="admin"?"":"/"+a}/academies/${this.academyId}/athletes-year-data`)).json()},createGraph(){const t=document.getElementById("userschoolgraph").getContext("2d"),e=this.schoolData.map(s=>s.name),c=this.schoolData.map(s=>s.athletes),r={type:"pie",data:{labels:e,datasets:[{label:"Athletes",data:c,backgroundColor:this.colors,hoverOffset:4}]}};new n(t,r)},async init(){console.log("userschoolgraph initialized"),this.schoolData=await this.getSchoolData(),this.yearData=await this.getYearData(),this.createGraph()}});export{d as userschoolgraph};
